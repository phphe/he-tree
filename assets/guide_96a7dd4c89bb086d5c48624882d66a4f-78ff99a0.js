import{_ as p,g,u as h,f as u,h as f,r as c,c as v,a as t,b as o,w as n,e,i,o as m}from"./index-86792da5.js";import{_,C as b}from"./CodeContainer-bc270f09.js";const y={extends:_,components:{CodeContainer:b},setup(){const a=g(),s={name:"Guide",id:"guide",level:1,children:[{name:"Installation",id:"installation",level:2,children:[]},{name:"Import",id:"import",level:2,children:[]},{name:"Don't use margin out of node",id:"dont-use-margin-out-of-node",level:2,children:[]},{name:"treeData or flatData",id:"treedata-or-flatdata",level:2,children:[]},{name:"Structure",id:"structure",level:2,children:[]},{name:"Usage",id:"usage",level:2,children:[]},{name:"Ouput",id:"ouput",level:2,children:[]},{name:"Fold & Expand",id:"fold--expand",level:2,children:[]},{name:"Lazy Load",id:"lazy-load",level:2,children:[]},{name:"Folde all nodes by default",id:"folde-all-nodes-by-default",level:2,children:[]},{name:"Checkbox",id:"checkbox",level:2,children:[]},{name:"RTL",id:"rtl",level:2,children:[]},{name:"Virtualization",id:"virtualization",level:2,children:[]},{name:"Draggable",id:"draggable",level:2,children:[]},{name:"Drag Trigger",id:"drag-trigger",level:2,children:[]},{name:"Prevent Drag",id:"prevent-drag",level:2,children:[]},{name:"Prevent Drop",id:"prevent-drop",level:2,children:[]},{name:"Runtime data in drag and drop process",id:"runtime-data-in-drag-and-drop-process",level:2,children:[]},{name:"Placeholder",id:"placeholder",level:2,children:[]},{name:"Open folded node when dragging",id:"open-folded-node-when-dragging",level:2,children:[]},{name:"How to locate the dragging node",id:"how-to-locate-the-dragging-node",level:2,children:[]},{name:"Edge Scroll",id:"edge-scroll",level:2,children:[]},{name:"Touch",id:"touch",level:2,children:[]},{name:"Max Level",id:"max-level",level:2,children:[]},{name:"Pro Plugin",id:"pro-plugin",level:2,children:[]},{name:"Import by script tag",id:"import-by-script-tag",level:2,children:[]}]};h(s.name,a),u.value=s.children||[],f(()=>{u.value=null})}},x={class:"docs-view"},D={class:"article mt-14 mb-8 prose"},w=t("p",null,[t("strong",null,"Replace 3 to 2 for Vue2 in follow doc.")],-1),T=t("p",null,[e("You may want to use "),t("code",null,"margin-bottom"),e(" to set the space between two nodes, that is not allowed. If so, it can't get the correct height of node. Use prop "),t("code",null,"gap"),e(" to do that.")],-1),L=i("<p>The tree is able to receive both tree data and flat data as initial data. When use <code>treeData</code>, tree need <code>childrenKey</code>. When use <code>flatData</code>, it need <code>idKey</code>, <code>parentIdKey</code>.</p><p><code>treeData</code> example:</p>",2),$=t("p",null,[t("code",null,"flatData"),e(" example:")],-1),C=i("<p><strong>It is rendered as a flat list, not nested tree. Different level node has different <code>padding-left</code>.</strong> Refer to the structure above, you can do:</p><ul><li>Set outer element class and style by set <code>node.$outerClass</code> and <code>node.$outerStyle</code></li><li>Set node element class and style by set <code>node.$nodeClass</code> and <code>node.$nodeStyle</code></li><li>Use default slot to customize node render. The slot has props: node, tree.</li></ul>",2),U=t("code",null,"outputNestedData",-1),k=t("code",null,"outputFlatData",-1),I=t("code",null,"drop",-1),S=t("code",null,"drop-change",-1),N=t("p",null,[e("Load children data when unfold a node. Such as by Ajax. Use prop "),t("code",null,"childrenLazyLoading"),e(" to enable. Use function prop "),t("code",null,"childrenLoader"),e(" to load data, it can return "),t("code",null,"Promise"),e(" and must return tree data, nested data.")],-1),B=t("p",null,[e("Use prop "),t("code",null,"defaultFolded"),e(".")],-1),P=t("p",null,[e("Use method "),t("code",null,"getAllCheckedNodes"),e(" to get all checked nodes.")],-1),V=t("p",null,[e("Use prop "),t("code",null,"rtl"),e(" to enable.")],-1),z=t("p",null,[e("Improve performance when there are a lot of nodes. Use prop "),t("code",null,"virtualization"),e(" to enable. Use prop "),t("code",null,"virtualizationPrerender"),e(" to define render length at start.")],-1),K=t("p",null,[e("Must add style "),t("code",null,"overflow:auto"),e(" for tree. And set height. The height can be fixed value. Use "),t("code",null,"max-height"),e(" or "),t("code",null,"display:flex"),e(" to set dynamic height also works.")],-1),M=t("p",null,"You can use follow code update virtualization list manually:",-1),W=t("p",null,[e("Use prop "),t("code",null,"triggerClass"),e(" to specify the css name of the element that triggers the drag. When prop "),t("code",null,"triggerBySelf"),e(" true, the child element can't trigger drag.")],-1),F=i("<ul><li>When prop <code>draggable</code> false, the tree&#39;s any nodes can&#39;t be drag.</li><li>Use prop <code>eachDraggable</code> before drag start.</li><li>When prop <code>rootDraggable</code> false, the root nodes(level 1) can&#39;t be dragged.</li><li>Use hook prop <code>ondragstart</code> before drag start.</li><li>Set <code>node.$draggable</code> false to handle single node.</li><li>When parent node is not draggable, child node is draggable, such as set <code>$draggable</code> as true of child node, then this child node is draggable.</li></ul>",1),H=i("<ul><li>When prop <code>droppable</code> false, any nodes can&#39;t be dropped in to the tree.</li><li>Use prop <code>eachDroppable</code> when drag over a node.</li><li>When prop <code>rootDroppable</code> false, the root (level 1) can&#39;t be dropped.</li><li>Use hook prop <code>ondragend</code> before drop end. <code>ondragend</code> supports promise.</li><li>Set <code>node.$droppable</code> false to handle single node.</li><li>When parent node is not droppable, child node is droppable, such as set <code>$droppable</code> as true of child node, then this child node is droppable.</li></ul>",1),R=t("code",null,"tree.store",-1),j=t("p",null,[e("When dragging, an element will be generated with a default light cyan background to identify the place where can be dropped. Use hook prop "),t("code",null,"afterPlaceholderCreated"),e(" to handle it. If you want to manipulate this element such as adding text, you can only use native JS operations.")],-1),A=t("p",null,[e("When dragging a node over a collapsed node, this node is opened by default for dragging into it. It can be controlled by prop "),t("code",null,"unfoldWhenDragover"),e(". Related prop: "),t("code",null,"unfoldWhenDragoverDelay"),e(", "),t("code",null,"isNodeUnfoldable")],-1),E=t("code",null,"draggingNodePositionMode",-1),O=t("code",null,"edgeScroll",-1),Y=t("p",null,[e("It works in touch devices. It will prevent default action when touch by drag, but sometimes that does not work. Use follow css to prevent default touch action such as scroll. The css target is the drag trigger element. If no drag trigger, it is "),t("code",null,".tree-node"),e(".")],-1),G=t("p",null,[e("To limit the max level of the tree when drag. Use prop "),t("code",null,"eachDroppable"),e(". Follow example code works in Vue2 and Vue3.")],-1),q=t("p",null,[e("The "),t("a",{href:"/pro"},"pro plugin"),e(" has advanced features.")],-1),J=t("ul",null,[t("li",null,"Cross tree. Drag from a tree to another tree."),t("li",null,"Clone. Clone node when drag start.")],-1),Q=t("p",null,[e("Download the latest version from npm, upload "),t("code",null,"dist"),e(" folder to your server. You can access the library through gloabl variable "),t("code",null,"heTreeVue3"),e(" or "),t("code",null,"heTreeVue2"),e(".")],-1);function X(a,s,Z,ee,te,oe){const d=c("vheading"),l=c("CodeContainer"),r=c("Anchor");return m(),v("div",x,[t("div",D,[o(d,{level:1,id:"guide"},{default:n(()=>[e("Guide")]),_:1}),w,o(d,{level:2,id:"installation"},{default:n(()=>[e("Installation")]),_:1}),o(l,{codeLanguage:"sh",code:"# Vue3\nnpm i -P @he-tree/vue3\n# Vue2\nnpm i -P @he-tree/vue2\n"}),o(d,{level:2,id:"import"},{default:n(()=>[e("Import")]),_:1}),o(l,{codeLanguage:"ts",code:"import { BaseTree, Draggable, obj, BaseNode, Node } from '@he-tree/vue3'\nimport '@he-tree/vue3/dist/he-tree-vue3.css'\n"}),o(d,{level:2,id:"dont-use-margin-out-of-node"},{default:n(()=>[e("Don't use margin out of node")]),_:1}),T,o(d,{level:2,id:"treedata-or-flatdata"},{default:n(()=>[e("treeData or flatData")]),_:1}),L,o(l,{codeLanguage:"ts",code:"treeData = [\n  {\n    text: 'node1',\n    children: [{ text: 'node1-1' }, { text: 'node1-2' }, { text: 'node1-3' }],\n  },\n  { text: 'node2' },\n]\n"}),$,o(l,{codeLanguage:"ts",code:"flatData = [\n  { text: 'node1', id: 1 },\n  { text: 'node2', id: 2 },\n  { text: 'node1-1', id: 3, pid: 1 },\n  { text: 'node1-2', id: 3, pid: 1 },\n  { text: 'node1-3', id: 3, pid: 1 },\n]\n"}),o(d,{level:2,id:"structure"},{default:n(()=>[e("Structure")]),_:1}),o(l,{codeLanguage:"pug",code:'.he-tree(:id="treeID" :class="{\'he-tree-dragging\':dragging, \'he-tree-rtl\': rtl}")\n  .vl-items\n    .tree-node-outer(:data-id="node.$id" :class="node.$outerClass" :style="node.$outerClass")\n      .tree-node(:class="node.$nodeClass" :style="node.$nodeStyle")\n        slot(:node="node" :tree="tree") {{node[textKey]}}\n    .tree-node-outer(:data-id="node.$id" :class="node.$outerClass" :style="node.$outerClass")\n      .tree-node(:class="node.$nodeClass" :style="node.$nodeStyle")\n        slot(:node="node" :tree="tree") {{node[textKey]}}\n    ...\n'}),C,o(d,{level:2,id:"usage"},{default:n(()=>[e("Usage")]),_:1}),o(l,{codeLanguage:"vue",code:"<template>\n  <BaseTree :flatData=\"flatData\" idKey=\"id\" parentIdKey=\"pid\" />\n</template>\n<script>\n  import '@he-tree/vue3/dist/he-tree-vue3.css'\n  import { BaseTree } from '@he-tree/vue3'\n\n  export default {\n    components: { BaseTree },\n    data() {\n      return {\n        flatData: [\n          { text: 'node1', id: 1 },\n          { text: 'node2', id: 2 },\n          { text: 'node1-1', id: 3, pid: 1 },\n          { text: 'node1-2', id: 3, pid: 1 },\n          { text: 'node1-3', id: 3, pid: 1 },\n        ],\n      }\n    },\n  }\n<\/script>\n"}),o(d,{level:2,id:"ouput"},{default:n(()=>[e("Ouput")]),_:1}),t("p",null,[e("Use methods "),U,e(" or "),k,e(" to get converted data without runtime properties. In order to get the changed data when drag, they should be executed in the "),o(r,{to:a.resolveHref("/v1/api#drop"),underline:""},{default:n(()=>[I]),_:1},8,["to"]),e(" or "),o(r,{to:a.resolveHref("/v1/api#drop-change"),underline:""},{default:n(()=>[S]),_:1},8,["to"]),e(" event.")]),o(d,{level:2,id:"fold--expand"},{default:n(()=>[e("Fold & Expand")]),_:1}),o(l,{codeLanguage:"vue",code:"<template>\n  <BaseTree :flatData=\"flatData\" idKey=\"id\" parentIdKey=\"pid\">\n    <template v-slot=\"{ node, tree }\">\n      <b @click=\"tree.toggleFold(node)\">{{ node.$folded ? '+' : '-' }}</b>\n      <span>{{ node.text }}</span>\n    </template>\n  </BaseTree>\n</template>\n<script>\n  import '@he-tree/vue3/dist/he-tree-vue3.css'\n  import { BaseTree } from '@he-tree/vue3'\n\n  export default {\n    components: { BaseTree },\n    data() {\n      return {\n        flatData: [\n          { text: 'node1', id: 1 },\n          { text: 'node2', id: 2 },\n          { text: 'node1-1', id: 3, pid: 1 },\n          { text: 'node1-2', id: 3, pid: 1 },\n          { text: 'node1-3', id: 3, pid: 1 },\n        ],\n      }\n    },\n  }\n<\/script>\n"}),o(d,{level:2,id:"lazy-load"},{default:n(()=>[e("Lazy Load")]),_:1}),N,o(d,{level:2,id:"folde-all-nodes-by-default"},{default:n(()=>[e("Folde all nodes by default")]),_:1}),B,o(d,{level:2,id:"checkbox"},{default:n(()=>[e("Checkbox")]),_:1}),P,o(l,{codeLanguage:"vue",code:"<template>\n  <BaseTree :flatData=\"flatData\" idKey=\"id\" parentIdKey=\"pid\">\n    <template v-slot=\"{ node, tree }\">\n      <input\n        type=\"checkbox\"\n        v-model=\"node.$checked\"\n        @change=\"tree.updateChecked(node)\"\n      />\n      <span>{{ node.text }}</span>\n    </template>\n  </BaseTree>\n</template>\n<script>\n  import '@he-tree/vue3/dist/he-tree-vue3.css'\n  import { BaseTree } from '@he-tree/vue3'\n\n  export default {\n    components: { BaseTree },\n    data() {\n      return {\n        flatData: [\n          { text: 'node1', id: 1 },\n          { text: 'node2', id: 2 },\n          { text: 'node1-1', id: 3, pid: 1 },\n          { text: 'node1-2', id: 3, pid: 1 },\n          { text: 'node1-3', id: 3, pid: 1 },\n        ],\n      }\n    },\n  }\n<\/script>\n"}),o(d,{level:2,id:"rtl"},{default:n(()=>[e("RTL")]),_:1}),V,o(d,{level:2,id:"virtualization"},{default:n(()=>[e("Virtualization")]),_:1}),z,K,o(l,{codeLanguage:"html",code:'<Draggable virtualization style="height:300px;overflow:auto" />\n'}),M,o(l,{codeLanguage:"js",code:"tree.$refs.virtualizationList.update()\n"}),o(d,{level:2,id:"draggable"},{default:n(()=>[e("Draggable")]),_:1}),o(l,{codeLanguage:"vue",code:"<template>\n  <Draggable :flatData=\"flatData\" idKey=\"id\" parentIdKey=\"pid\" />\n</template>\n<script>\n  import '@he-tree/vue3/dist/he-tree-vue3.css'\n  import { Draggable } from '@he-tree/vue3'\n\n  export default {\n    components: { Draggable },\n    data() {\n      return {\n        flatData: [\n          { text: 'node1', id: 1 },\n          { text: 'node2', id: 2 },\n          { text: 'node1-1', id: 3, pid: 1 },\n          { text: 'node1-2', id: 3, pid: 1 },\n          { text: 'node1-3', id: 3, pid: 1 },\n        ],\n      }\n    },\n  }\n<\/script>\n"}),o(d,{level:2,id:"drag-trigger"},{default:n(()=>[e("Drag Trigger")]),_:1}),W,o(d,{level:2,id:"prevent-drag"},{default:n(()=>[e("Prevent Drag")]),_:1}),F,o(d,{level:2,id:"prevent-drop"},{default:n(()=>[e("Prevent Drop")]),_:1}),H,o(d,{level:2,id:"runtime-data-in-drag-and-drop-process"},{default:n(()=>[e("Runtime data in drag and drop process")]),_:1}),t("p",null,[e("Check "),o(r,{to:a.resolveHref("/v1/api#store"),underline:""},{default:n(()=>[R]),_:1},8,["to"])]),o(d,{level:2,id:"placeholder"},{default:n(()=>[e("Placeholder")]),_:1}),j,o(d,{level:2,id:"open-folded-node-when-dragging"},{default:n(()=>[e("Open folded node when dragging")]),_:1}),A,o(d,{level:2,id:"how-to-locate-the-dragging-node"},{default:n(()=>[e("How to locate the dragging node")]),_:1}),t("p",null,[e("The top left corner of dragging node is used by default. Mouse position is also supported. "),o(r,{to:a.resolveHref("/v1/api#draggingnodepositionmode"),underline:""},{default:n(()=>[E]),_:1},8,["to"])]),o(d,{level:2,id:"edge-scroll"},{default:n(()=>[e("Edge Scroll")]),_:1}),t("p",null,[e("This function belongs to Draggable plugin. If the tree is in a scroll box, it needs to be automatically scrolled when dragged to its edge. This prop is diabled by default. Use prop "),O,e(" control that. Related prop: "),o(r,{to:a.resolveHref("/v1/api#edgescrolltriggermargin"),underline:""},{default:n(()=>[e("edgeScrollTriggerMargin")]),_:1},8,["to"]),e(", "),o(r,{to:a.resolveHref("/v1/api#edgescrollspeed"),underline:""},{default:n(()=>[e("edgeScrollSpeed")]),_:1},8,["to"]),e(", "),o(r,{to:a.resolveHref("/v1/api#edgescrolltriggermode"),underline:""},{default:n(()=>[e("edgeScrollTriggerMode")]),_:1},8,["to"]),e(".")]),o(d,{level:2,id:"touch"},{default:n(()=>[e("Touch")]),_:1}),Y,o(l,{codeLanguage:"css",code:"touch-action: none;\n"}),o(d,{level:2,id:"max-level"},{default:n(()=>[e("Max Level")]),_:1}),G,o(l,{codeLanguage:"html",code:'<Draggable :eachDroppable="eachDroppable" />\n'}),o(l,{codeLanguage:"js",code:'data() {\n  return {\n    eachDroppable: (node, store, options, startTree) => {\n      const maxLevel = 3; // change it by your requirement\n      let draggingNodeMaxLevel = 0;\n      hp.walkTreeData(\n        store.draggingNode,\n        (childNode) => {\n          if (childNode.$level > draggingNodeMaxLevel) {\n            draggingNodeMaxLevel = childNode.$level;\n          }\n        },\n        "$children"\n      );\n      draggingNodeMaxLevel = draggingNodeMaxLevel - store.draggingNode.$level;\n      if (node.$level + draggingNodeMaxLevel >= maxLevel) {\n        return false;\n      }\n    },\n  }\n}\n'}),o(d,{level:2,id:"pro-plugin"},{default:n(()=>[e("Pro Plugin")]),_:1}),q,J,o(d,{level:2,id:"import-by-script-tag"},{default:n(()=>[e("Import by script tag")]),_:1}),Q,o(l,{codeLanguage:"html",code:'<!-- replace vue3 to vue2 if use Vue2 -->\n<script src="yourpath/dist/he-tree-vue3.min.js" charset="utf-8"><\/script>\n<link rel="stylesheet" href="yourpath/dist/he-tree-vue3.css" />\n<!-- usage -->\n<script type="text/javascript">\n  var Tree = heTreeVue3.BaseTree;\n  var Fold = heTreeVue3.Draggable;\n  ...\n<\/script>\n'})])])}const le=p(y,[["render",X]]);export{le as default};
